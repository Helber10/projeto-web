<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tenis</title>
    <link rel="stylesheet" type="text/css" href="css/pagina-escolha.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!--script-menu lateral-->
    <script src="js/menu.js" defer></script>
</head>

<body>
    <header id="header-menu">
        <nav class="menu-lateral">
            <div class="btn-expandir">
                <i class="bi bi-list" id="btn-exp"></i>
            </div>
            <ul>
                <li class="item-menu ">
                    <a href="index.html">
                        <span class="icone"><i class="bi bi-house"></i></span>
                        <span class="txt-link">Home</span>
                    </a>
                </li>

                <li class="item-menu">
                    <a href="login.html">

                        <span class="icone"><i class="bi bi-box-arrow-right"></i></span>
                        <span class="txt-link">Login</span>
                    </a>
                </li>

                <li class="item-menu">
                    <a href="volei.html">
                        <span class="icone"><i class="bi bi-nut"></i></span>
                        <span class="txt-link">Voleibol</span>
                    </a>
                </li>

                <li class="item-menu tivo">
                    <a href="#">

                        <span class="icone"><i class="bi bi-vignette"></i></span>
                        <span class="txt-link">Tenis</span>
                    </a>
                </li>
                <li class="item-menu">
                    <a href="desevolv.html">
                
                        <span class="icone"><i class="bi bi-vignette"></i></span>
                        <span class="txt-link">Desenvolvedores</span>
                    </a>
                </li>
                <li class="item-menu">
                    <a href="historia.html">
                        <span class="icone"><i class="bi bi-clock-history"></i></span>
                        <span class="txt-link">Historia</span>
                    </a>
                </li>
            </ul>

        </nav>
    </header>
    <div class="contanier-tenis">
        <div class="organizar-tenis">
            <h2>Partida de Tênis de Mesa</h2>
            <form>
                <input type="text" id="nomepartida" placeholder="Nome da Partida">
                <textarea id="nomesInput" rows="3" cols="12">
                        Miguel
                        Arthur
                        Gael
                        Théo
                        Heitor
                        Ravi
                        Davi
                        Bernardo
                        Noah
                        Gabriel
                        Samuel
                        Pedro
                        Anthony
               
                    </textarea>
                <input type="text" id="estilojogo" placeholder="Estilo de Jogo" >
                <input type="number"id="numjogadores" placeholder="Número de Jogadores" min="1" value="2">
                <input type="date" id="datatenis" placeholder="Data" >
                <input type="time" id="horatenis" placeholder="Hora">
                <input type="text" id="localtenis" placeholder="Local" >
                <div class="button">
                <button onclick="organizarPartida()">Organizar Partida</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        function organizarPartida(){
            const nomesInput = document.getElementById('nomesInput').value;
            const nomesArray = nomesInput.split('\n').map(nome => nome.trim()).filter(Boolean);

            const numjogadores = parseInt(document.getElementById('numjogadores').value);
            const nomePartida = document.getElementById('nomepartida').value;
            const estiloJogo = document.getElementById('estilojogo').value;
            const data = document.getElementById('datatenis').value;
            const hora = document.getElementById('horatenis').value;
            const local = document.getElementById('localtenis').value;

            if (nomesArray.length < numjogadores) {
                alert('Informe pelo menos a quantidade de nomes desejada por tabela.');
                return;
            }
            
             const tabelaContainer = document.getElementById('tabelaContainer');
            tabelaContainer.innerHTML = '';

            const numeroDeTabelas = Math.ceil(nomesArray.length / numjogadores);

            const tabelas = Array.from({ length: numeroDeTabelas }, () => ({ nomes: [] }));

           

            for (let i = 0; i < numeroDeTabelas; i++) {
                const tabela = document.createElement('table');
                tabela.className = 'tabela';

                for (let j = 0; j < numjogadores; j++) {
                    const nomeIndex = i * numjogadores + j;
                    if (nomeIndex < nomesArray.length) {
                        const celula = tabela.insertRow().insertCell();
                        celula.textContent = nomesArray[nomeIndex];
                    }
                }

               tabelaContainer.appendChild(tabela);
            }
             redirecionarPagina(tabelaContainer.innerHTML);

            window.location.href = `partida1.html?tabela1=${tabelaPrincipal1.outerHTML}&tabela2=${tabelaPrincipal2.outerHTML}&nomePartida=${nomePartida}&estiloJogo=${regrasVolei}&data=${dataVolei}&hora=${horaVolei}&local=${localVolei}`;
             function redirecionarPagina(tabelaHTML) {
                // Encode tabelaHTML para evitar problemas de caracteres especiais na URL
                const tabelaHTMLCodificado = encodeURIComponent(tabelaHTML);
                const url = `partida1.html?tabela=${tabelaHTMLCodificado}`;
                window.location.href = url;
            }

              
        } 
        
     

    </script>
</body>

</html>